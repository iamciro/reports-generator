#:include assets/kv/components/header.kv
#:include assets/kv/utils/utils.kv
#:import txt assets.utils.texts

#:set textinput_fz 25

<HomeScreen>:
	name: 'home_screen'
	BoxLayout:
		orientation: 'vertical'
		Header:
			id: toolbar
			orientation: "vertical"
			title: txt.header['title']
			anchor_title: 'center'
			size_hint_y: .2
			md_bg_color: txt.HEADER_BG_COLOR
		FloatLayout:
			orientation: 'vertical'
			MDLabel:
				text: txt.home_screen['welcome_text']
				font_style: 'H2'
				halign: 'center'
				pos_hint: {"x": 0, "center_y": .8}
			MDRaisedButton:
				text:txt.home_screen['reportscreen_btn_text']
				halign: 'center'
				size_hint: .3, .2
				pos_hint: {"center_x": .5, "center_y": .5}
				font_size: 30
				md_bg_color: txt.BUTTON_BG_COLOR
				on_release:
					root.manager.transition.direction = 'left'   
					root.manager.current = "report_screen"

<RSClientSection@BoxLayout>:
	size_hint: .8, .4
	pos_hint: {"center_x": .5, "center_y": .5}

	GridLayout:
		cols: 2
		size_hint: 1,1
		spacing: 20
		padding: 30
		BoxLayout:
			orientation: 'vertical'
			spacing: 8
			ClientsLabel:
				text: txt.report_screen['client_name']
			MDTextField:
				hint_text: ""
				font_size: textinput_fz
		BoxLayout:
			orientation: 'vertical'
			ClientsLabel:
				text: txt.report_screen['client_phone_number']
			MDTextField:
				hint_text: ""
				font_size: textinput_fz

<RSDeviceSection@BoxLayout>:
	size_hint: 1, .4
	pos_hint: {"center_x": .5, "center_y": .1}
	spacing: 8

	GridLayout:
		cols: 3
		size_hint: 1,1
		spacing: 10
		padding: 50
		BoxLayout:
			orientation: 'vertical'
			ClientsLabel:
				text: txt.report_screen['device']
			MDTextField:
				hint_text: ""
				font_size: textinput_fz
		BoxLayout:
			orientation: 'vertical'
			ClientsLabel:
				text: txt.report_screen['company']
			MDTextField:
				hint_text: ""
				font_size: textinput_fz
		BoxLayout:
			orientation: 'vertical'
			ClientsLabel:
				text: txt.report_screen['model']
			MDTextField:
				hint_text: ""
				font_size: textinput_fz

<RSReportProblemSection@BoxLayout>:
	size_hint: .8, .4
	pos_hint: {"center_x": .5, "center_y": .5}

	GridLayout:
		cols: 2
		size_hint: 1,1
		pos_hint: {"center_x": .5, "y": 0}
		BoxLayout:
			orientation: 'vertical'
			spacing: 30
			MDLabel:
				bold: True
				text: txt.report_screen['reported_problem']
				font_size: 21
				halign: 'center'
			BoxLayout:
				id: box_layout
				#canvas:
					#Color:
						#rgba: 0, 1, 1, 1
					#Rectangle:
						#id: rect
						#pos: self.pos
						#size: self.size
				pos_hint: {"center_x": .5}
				size_hint_x: .7
				size_hint_y: None
				TextInput:
					padding: 10
					font_size: textinput_fz
					size_hint: 1,None
					height: 100

<ReportScreen>:
	name: 'report_screen'
	id: report_screen
	BoxLayout:
		orientation: 'vertical'
		HeaderWithIcon:
			id: toolbar
			title: txt.header['title']
			anchor_title: 'center'
			size_hint_y: .2
			md_bg_color: txt.HEADER_BG_COLOR
			screen: root
		BoxLayout:
			size_hint: .8, .3
			pos_hint: {"center_x": .5, "center_y": .5}
			#canvas:
				#Color:
					#rgba: 1, 0, 1, 1
				#Rectangle:
					#id: rect
					#pos: self.pos
					#size: self.size
			GridLayout:
				cols: 2
				size_hint: 1,1
				ServicesLabel:
					text: txt.report_screen['service_order'] + root.service_order_number
				ServicesLabel:
					text: txt.report_screen['service_datetime'] + root.service_datetime

		# Client Section
		RSClientSection:

		# Device Section
		RSDeviceSection:

		# Report Problem Section
		RSReportProblemSection:

		BoxLayout:
			orientation: 'vertical'
			size_hint: 1,.5
			padding: 20
			#canvas:
				#Color:
					#rgba: 1, 0, 1, 1
				#Rectangle:
					#id: rect
					#pos: self.pos
					#size: self.size
			MDRaisedButton:
				text: txt.report_screen['generate_report_btn_text']
				size: 300, 100
				halign: 'center'
				pos_hint: {"center_x": .5, "center_y": .5}
				font_size: 30
				md_bg_color: txt.BUTTON_BG_COLOR
			
ScreenManager:
	HomeScreen
	ReportScreen